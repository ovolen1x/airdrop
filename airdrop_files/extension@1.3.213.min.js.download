!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("trackSDK"),require("tslib"),require("utilsUMD")):"function"==typeof define&&define.amd?define("extensionUMD",["React","ReactDOM","commonUMD","dataUMD","httpSDK","trackSDK","tslib","utilsUMD"],t):"object"==typeof exports?exports.extensionUMD=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("trackSDK"),require("tslib"),require("utilsUMD")):e.extensionUMD=t(e.React,e.ReactDOM,e.commonUMD,e.dataUMD,e.httpSDK,e.trackSDK,e.tslib,e.utilsUMD)}(this,((e,t,n,r,o,a,i,l)=>(()=>{"use strict";var c,u={5462:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(1024),o=n(9457),a=n.n(o),i=n(3120),l=n(7659),c=n(9866),u=n(620),s=n(1458),f=n(1182);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const d=function(){var e,t,n=(e=(0,r.useState)("none"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=function(){var e=window.innerWidth;a(e<768?"mobile":e<1440?"tablet":"desktop")};return(0,r.useEffect)((function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),o};var v,g=n(3716),b=n(937),y=n(8116),p=n(3716);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E="",C="onBodyThemeChange";function S(){var e=(0,f.useTheme)().theme,t=h((0,r.useState)(e),2),n=t[0],o=t[1];(0,r.useEffect)((function(){v||(p.log("[useRootBodyTheme] initBodyThemeListenerSingleton"),(v=new MutationObserver((function(e){var t="";if(e.forEach((function(e){var n=e.target;n.classList.contains("theme-root")&&(n.classList.contains("light")&&(t="light"),n.classList.contains("dark")&&(t="dark"))})),t!==E){E=t;var n=new Event(C);n.themeResult=t,document.body.dispatchEvent(n)}}))).observe(document.body,{attributes:!0,attributeFilter:["class"]}));var e=function(e){var t=e.themeResult;p.log("[useRootBodyTheme] body theme change event",t),o(t)};return document.body.addEventListener(C,e),function(){document.body.removeEventListener(C,e)}}),[]),(0,r.useEffect)((function(){if(n!==e){if(n)return p.log("[useRootBodyTheme] setBodyTheme, bodyTheme=".concat(n,", commonWidgetTheme=").concat(e)),void o(n);p.log("[useRootBodyTheme] fallback to commonWidgetTheme=".concat(e)),o(e)}}),[n,e]);var a=h((0,r.useMemo)((function(){return["light"===n?b.R:b._,"light"===n?y.X:y.k]}),[n]),2),i=a[0],l=a[1];return{bodyTheme:n,themeColors:i,themeExtraColors:l}}var _=n(3716);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=[/^\/[a-zA-Z-]+\/price/i,/^\/[a-zA-Z-]+\/how-to-buy/i,/^\/[a-zA-Z-]+\/altcoins/i,/^\/[a-zA-Z-]+\/markets\/overview/i];const I=function(){var e,t,n,o,m=(0,f.useLanguage)().language,v=(0,f.useNavI18n)().getI18nTxt,b=(0,f.useCommonEnv)().envs.domain,y=S().bodyTheme,p=(0,f.useUserLoginStatus)(),h=p.value,w=p.loading,E=x((0,r.useState)(!1),2),C=E[0],A=E[1],I=x((0,r.useState)(!1),2),R=I[0],T=I[1],O=(0,r.useRef)(!1),j=(0,f.useCommonEnv)().envs.STATIC_HOST,D="mobile"===d(),M=(0,i.L)().isHybrid,L=(0,r.useCallback)((function(){var e;O.current||(O.current=!0,_.log("bannerInitiator called"),e=window.location.pathname,k.some((function(t){return t.test(e)}))?(_.log("call topBarAndTopCTA API to show banner"),(0,s.get)("/bapi/composite/v1/public/growth-activity/loyalty/onboarding/topBarAndTopCTA").then((function(e){var t=e.data;_.log("topBarAndTopCTA API call",t),null!=t&&t.showTopBar&&T(!0)}))):_.log("validatePageUrl = false"))}),[]);(0,r.useEffect)((function(){w||h||A(!0)}),[h,w]),e=function(){L()},t=C,n=(0,r.useRef)(!1),o=(0,r.useCallback)((function(){n.current||(g.log("UserActionTrigger"),n.current=!0,e())}),[]),(0,r.useEffect)((function(){var e,n,r;t&&(e=function(){window.removeEventListener("mousemove",e,!1),g.log("mousemoveListener triggered"),o()},n=function(){window.removeEventListener("touchstart",n,!1),g.log("touchstartListener triggered"),o()},r=function(){window.removeEventListener("scroll",r,!1),g.log("scrollListener triggered"),o()},window.addEventListener("mousemove",e,!1),window.addEventListener("touchstart",n,!1),window.addEventListener("scroll",r,!1))}),[t]);var U=(0,r.useCallback)((function(){a()("webClick",{elementId:"footer_banner_close",pageName:"extension",lang:m}),T(!1)}),[m]),B=(0,r.useCallback)((function(){a()("webClick",{elementId:"footer_banner_click",pageName:"extension",lang:m});var e="https://accounts.".concat(b,"/").concat(m,"/register?registerChannel=footer_banner");window.open(e,"_blank")}),[b,m]);if(M||!R||D)return null;var N="dark"===y?"dark_banner_bg.svg":"light_banner_bg.svg",q='url("'.concat(j,"/static/images/home/").concat(N,'")');return React.createElement("div",{className:"IncentiveBanner",style:{backgroundImage:q}},React.createElement("div",{className:"IncentiveBanner_content"},React.createElement(l.Z,{className:"IncentiveBanner_logo",src:"".concat(j,"/static/images/home/incentive_logo.svg")}),React.createElement("div",{className:"IncentiveBanner_text"},v("Register now and receive up to 100 USDT in rewards"))),React.createElement(c.Z,{onClick:B,sz:"small",className:"IncentiveBanner_register_btn"},v(D?"ba-Register":"Register Now")),React.createElement(u.Z,{onClick:U,size:24,className:"IncentiveBanner_close_btn"}))};var R=n(314),T=n(1996);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=n(3716);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=e.banner,n=e.themeColors,o=(0,i.L)().isHybrid,a=(0,f.useLanguage)().language,l=(0,f.useI18n)(t.i18nNamespace||"com-compliance").getI18nText,c=D((0,r.useState)(!0),2),s=c[0],m=c[1],d=(0,r.useCallback)((function(e){var t=e||{},r=t.bannerText,o=void 0===r?"":r,i=t.bannerLinks,c=void 0===i?[]:i,u=t.useI18nKey,s=t.bannerTextMultiLang,f=void 0===s?[]:s,m=o;if(u)m=l(o);else{var d=f.find((function(e){return e.selectedLang===a}));null!=d&&d.text&&(m=d.text)}return c.forEach((function(e){var t,r,o=null===(t=e.linkURL)||void 0===t||null===(r=t.replace("%suffixOrigin%",(0,T.getLevelDomain)(2)))||void 0===r?void 0:r.replace("%locale%",a),i=e.linkText;u&&(i=l(e.linkText));var c='<a href="'.concat(o,'" class="CommonWidgetCompliance_content_link" style="color: ').concat(n.textBrand,'" target="_blank">').concat(i,"</a>");if(e.key){var s=new RegExp("".concat(e.key),"g");m=s.test(m)?m.replace(s,c):"".concat(m," ").concat(c)}else m="".concat(m," ").concat(c)})),m}),[a,l]),v=(0,r.useCallback)((function(){m(!1)}),[]);if(!s)return null;if(o&&(null==t||!t.showInWebview))return null;var g=d(t);return g?React.createElement("div",{key:t.bannerText,className:"CommonWidgetCompliance_content",style:{color:n.textPrimary}},React.createElement("div",{dangerouslySetInnerHTML:{__html:g}}),t.canBeClosed&&React.createElement(u.Z,{onClick:v,size:24,className:"CommonWidgetCompliance_close_btn",style:{color:n.bg4}})):null}var U=function(){var e=S().themeColors,t=(0,f.useComplianceActionCheck)().value,n=D((0,r.useState)([]),2),o=n[0],i=n[1],l=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var e,n;if(null!=t&&t.success&&(null==t||null===(e=t.data)||void 0===e||!e.pass)){var r,o,c=((null==t||null===(n=t.data)||void 0===n?void 0:n.actionInfo)||{}).bannerInfo,u=void 0===c?[]:c;j.log("ComplianceBanners, bannerInfo = ",u),i(u),!l.current&&u.length>0&&(l.current=!0,j.log("ComplianceBanner show"),a()("pageView",{elementID:"common_widget_extension_compliance_banner",pageName:"common_widget_extension",df_3:String((null==u||null===(r=u[0])||void 0===r||null===(o=r.extraInfo)||void 0===o?void 0:o.errorCode)||"client_no_code")}))}}),[t]),React.createElement(React.Fragment,null,o.map((function(t){return React.createElement(L,{key:t.bannerText,banner:t,themeColors:e})})))};function B(){var e,t,n,o,a,i,l,c,u,s,m=("CommonWidgetCompliance",e=S().themeColors,t=(0,f.useComplianceActionCheck)().value,n=(0,r.useRef)(null),u=(0,r.useState)(null),s=2,o=function(e){if(Array.isArray(e))return e}(u)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(u,s)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],l="__APP_HEADER",c=(0,r.useMemo)((function(){var e=document.getElementById(l);return!!e&&"sticky"===window.getComputedStyle(e).position}),[]),(0,r.useEffect)((function(){var e,r=((null==t||null===(e=t.data)||void 0===e?void 0:e.actionInfo)||{}).bannerInfo,o=null==r?void 0:r[0];if(o){var a=null==o?void 0:o.shouldSticky;if(n.current||(n.current=document.createElement("div"),n.current.className="CommonWidgetCompliance",i(n.current)),a)if(c){var u=document.getElementById(l);null==u||u.prepend(n.current)}else n.current.classList.add("CommonWidgetCompliance_sticky"),document.body.prepend(n.current);else document.body.prepend(n.current);return function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.parentNode;t&&n.current&&t.removeChild(n.current)}}}),[t,c]),(0,r.useEffect)((function(){a&&(a.style.backgroundColor=e.bg3)}),[e,a]),a);return React.createElement(React.Fragment,null,m&&(0,R.createPortal)(React.createElement(U,null),m))}var N=n(3408);const q=function(){var e=S().bodyTheme;return(0,r.useEffect)((function(){a()("pageView",{elementID:"common_widget_extension_mount",pageName:"common_widget_extension"})}),[]),React.createElement(N.ErrorBundary,{name:"common-widget-extension"},React.createElement(N.ThemeProvider,{theme:e},React.createElement("section",{className:"extension-container hidden-in-bnc-app common-widget-css_wrap theme-root bg1 ".concat(e,"-color")},React.createElement(I,null),React.createElement(B,null))))}},1024:t=>{t.exports=e},314:e=>{e.exports=t},3408:e=>{e.exports=n},1182:e=>{e.exports=r},1458:e=>{e.exports=o},9457:e=>{e.exports=a},6748:e=>{e.exports=i},1996:e=>{e.exports=l}},s={};function f(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return u[e].call(n.exports,n,n.exports,f),n.loaded=!0,n.exports}f.m=u,c=[],f.O=(e,t,n,r)=>{if(!t){var o=1/0;for(u=0;u<c.length;u++){for(var[t,n,r]=c[u],a=!0,i=0;i<t.length;i++)(!1&r||o>=r)&&Object.keys(f.O).every((e=>f.O[e](t[i])))?t.splice(i--,1):(a=!1,r<o&&(o=r));if(a){c.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=c.length;u>0&&c[u-1][2]>r;u--)c[u]=c[u-1];c[u]=[t,n,r]},f.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return f.d(t,{a:t}),t},f.d=(e,t)=>{for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),f.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),f.j=898,(()=>{var e={898:0,532:0};f.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,i,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in i)f.o(i,r)&&(f.m[r]=i[r]);if(l)var u=l(f)}for(t&&t(n);c<a.length;c++)o=a[c],f.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return f.O(u)},n=this.webpackChunkUMD=this.webpackChunkUMD||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var m=f.O(void 0,[532,736],(()=>f(5462)));return f.O(m)})()));